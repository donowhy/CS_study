# cs

## 프로세스 vs 스레드

### 키워드

1. 실행 단위 - cpu core 에서 실행하는 하나의 단위로 프로세스와 스레드를 포괄하는 개념
2. (부연 설명이 없는) 프로세스 - 하나의 스레드만 가지고 있는 단일 스레드 프로세스
3. 동시성 - 한 순간에 여러가지 일이 아니라, 짧은 전환으로 여러가지 일을 동시에 처리하는 것처럼 보이는 것

### 발표 목차

1. 프로세스 & 스레드
2. 멀티 프로세스 vs 멀티 스레드
3. 멀티 코어
4. 요약

### 1. 프로세스 & 스레드

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled.png)

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled%201.png)

해당 프로세스의 정보를 담고 있는 PCB 블럭이 프로세스와 함께 생성된다.

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled%202.png)

컨텍스트 스위칭

위처럼 단 두개의 컨텍스트 스위칭을 보는 것도 무겁게 느껴진다.

그래서 나온 것이 경량화된 프로세스 버전인 스레드다.

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled%203.png)

프로세스 메모리 구조에서 두개의 스레드가 공통적인 부분이 있기 때문이다.

위처럼 프로세스의 메모리 구조가 있는데 스레드는 코드, 데이터, 힙 영역을 공통된 자원을 사용을 한다.

각 스레드는 스택 부분만을 따로 가지고 있는 것이다.

→ 매우 효율적, 공유되는 자원이 있기 때문에 예전처럼 컨텍스트 스위칭이 일어날 때 캐싱 적중률이 올라간다. 즉, 모조리 다 빼고 다시 다  넣을 필요가 없다는 것이다.

### 2. 멀티 프로세스 vs 멀티 스레드

위 두가지의 개념은 모두 처리방식의 일종이라는 점!! 

즉, 한 어플리케이션에 대한 처리방식이라고 생각하면 됨.

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled%204.png)

실행단위! → 이때 단위가 프로세스 일 수도 있고 스레드 일 수도 있다.

만약 프로세스가 다수의 스레드로 구분되어 있지 않으면 단일스레드 하나로 프로세스가 실행된다. → 이때 실행 단위는 프로세스 그 자체가 된다. 즉, 해당 프로세스의 하나밖에 없는 쓰레드가 실행 단위가 되는 것이다.

프로세스 내에서 분리해서 여러 쓰레드로 나뉘어서 실행단위가 나뉘어지면 그게 멀티 쓰레드가 된다.

한 프로세스에서 쓰레드가 여러개 나뉜다는 말은,  예를들어, 카카오 톡에서 톡을 보내고 톡을 받고 선물함을 들어가고 이런 것들을 할 때 각각의 쓰레드가 그 작업들을 담당하는 거다.

이렇게 보면 멀티 쓰레드가 멀티 코어보다 더 좋아보이지만 , 멀티 쓰레드는 상호간의 긴밀하게 연결이 되어 있기 때문에 한쪽에 문제가 생기면 그 전체 프로세스가 문제가 생길 수가 있는 반면, 구글 크롬은 멀티 프로세스를 사용하여 멀티탭 간의 영향을 덜 받게 설계된 것이 예이다.

### 3. 멀티 코어

키워드 : 동시성, 병렬처리

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled%205.png)

- 동시성 : 싱글코어를 가진 cpu가 실행 단위를 처리 할 때는 동시에 여러가지가 실행되기 위해 빠른 텀으로 전환이 되면서 실행이 된다는 것 그것이 동시성, 여러 실행 단위를 번갈아 실행하면서 동시에 일어나는 것처럼 보이는 것이 동시성!
    
    즉, 짧은 순간에 cpu의 시간을 분할해서 동시에 하는 것처럼 보이게 하는 것.
    
- 병렬처리 : (멀티코어) 물리적으로 여러 코어를 사용 해서 다수의 실행 단위를 한 순간에 처리할 수 있게 해준 것이다.

![Untitled](cs%2069c5bb46d3d84e91a26dc27e174104f0/Untitled%206.png)