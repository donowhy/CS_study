# 네트워크

- OSI 7 Layer
    
    네트워크에서 통신이 일어나는 과정을 7단계로 나눈 것
    
    ![[https://shlee0882.tistory.com/110](https://shlee0882.tistory.com/110) 출처](/surim/week3/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/osi7%EA%B3%84%EC%B8%B5.jpg)
    
    [https://shlee0882.tistory.com/110](https://shlee0882.tistory.com/110) 출처
    
    - 왜 나눌까?
        - 통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문
    - 1계층: 물리 - **HW적**으로 구현- 리피터, 케이블, 허브
        - 데이터를 전기적인 신호로 변환해서 주고받는 기능을 진행(데이터전송)
            - 컴퓨터가 통신하려면?
                - 모든파일, 프로그램은 0과 1의 나열→1은 +5v, 0은 -5v를 주고받음
                - but 전선은 모든 주파수를 다 통과시키지 못함
                
                ex) 5~8Hz만 통과시킬수 있는 전선에, 주파수 최소값 1, 최대길이 10인 전자기파는 5~8hz부분만 통과해서 엉뚱한 데이터만 도착하기도 함
                
                - 0과 1을 주고받을 수 있으면 되는데, but 수직선과 수평선이 있는 전자기파는 항상 0~무한대의 범위를 가짐
                    
                    → 이런 전기신호를 통과시킬 수 있는 전선은 없음 
                    
                    ⇒ 아날로그 신호로 바꿔서 전송해야함
                    
                    ![Untitled](/surim/week3/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/Untitled.png)
                    
            
            ⇒ 물리계층: 0,1을 아날로그 신호로 바꾸는(encoding)과 아날로그 신호를 0과 1로 바꿔서(decoding) 물리적으로 연결된 2대의 컴퓨터가 0과 1을 주고받을 수 있게 해주는 모듈(함수)
            
    
    ---
    
    - 2계층: 데이터링크 - 브릿지, 스위치 등
        - 물리계층으로 송수신되는 정보를 안전하게 전달되도록 도와주는 역할
        - MAC주소를 통해 통신함. 프레임에 Mac주소를 부여하고, 에러검출, 재전송, 흐름제어를 진행한다.
        
        → 여러대의 컴퓨터가 통신하려고 모든 컴퓨터에 전선을 연결하면 비용면에 비효율
        
        ⇒ 하나의 선에 여러개의 컴퓨터가 연결되어있으면 효율적으로 통신할 수 있음
        
        이 하나의 선을 상자(더미허브)안에 넣어보자. 
        
        →만약 하나의 선에 있는 A가 B에게 데이터를 보내고 싶음⇒B에게만 보내라고 목적지를 정하도록 더미허브를 똑똑하게 만든것=**스위치**
        
        *프레이밍: 여러대의 컴퓨터가 동시에 데이터를 보낸다고 하면 데이터가 섞임→ 이를 방지하기 위해 ex)데이터를 보낼때 1111시작, 0000끝으로 지정해주면(프레이밍) 잘통신할 수 있음
        
        ⇒2계층: 같은 네트워크에 있는 여러대의 컴퓨터들이 데이터를 주고받기 위해 필요한 모듈 (프레이밍은 그 작업 중 하나), **LAN카드에 구현되어있음(HW)**
        
    
    ---
    
    - 3계층: 네트워크 - 라우터, IP 등
        - 이동할 경로를 선택해서 IP주소를 지정하고, 이 경로로 패킷을 전달해준다
        - 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능
        
        → 서로 다른 네트워크에 속한 컴퓨터끼리 통신할 수 있게하는 장비=**라우터(like 공유기)**
        
        ⇒이렇게 전세계의 컴퓨터를 연결한것=인터넷
        
        *IP주소: A가 다른 사람말고 B에게만 데이터를 보내고 싶어서 데이터를 보낼때 **데이터+B의 주소(패킷)를** 같이 보냄, 이때 주소=IP주소 ex)네이버 주소=ip주소로 변환
        
        ⇒ 네트워크계층: 수많은 네트워크의 연결로 이뤄지는 internetwork에서 목적지로 데이터를 전달하기 위해 IP주소를 이용해서 길을 찾고(routing) 자신 다음의 라우터에게 데이터를 넘겨주는 것(forwarding), **OS의 커널에 구현되어있음**
        
        ---
        
    - 4계층: 전송 - TCP, UDP
        - 포트를 열어두고, 프로그램들이 전송할 수 있도록 제공해준다
            - TCP: 신뢰성, 연결지향적
            - UDP: 비신뢰성, 비연결성, 실시간
        
        → 데이터를 받고자하는 프로세스는 포트번호를 가져야 함→ 송신자가 데이터를 보낼때 어떤 프로세스에 보낼지 프로세스의 포트번호를 붙여서 보냄
        
        ⇒전송계층: 포트번호를 사용하여 수신 컴퓨터의 프로세스에 까지 데이터가 도달할 수 있게하는 모듈, **os커널에** 구현
        
        *포트번호: 하나의 컴퓨터에서 동시에 실행되고 있는 프로세스들이 서로 겹치지 않게 프로세스가 가져야하는 정수값 ex)https://www.naver.com/**80**
        
    
    ---
    
    - 5계층: 세션 - API, socket
    - 6계층: 표현계층
    - 7계층: 응용(어플리케이션) 계층
    
    ⇒오늘날 TCP/IP모델을 사용하고 이 모델을 3개의 계층을 묶어 어플리케이션 계층으로 본다
    
    - 어플리케이션 계층
        - TCP/IP소켓 프로그래밍: 운영체제의 전송계층에서 제공하는 API를 이용해서 통신가능한 프로그램을 만드는 것(=네트워크 프로그래밍)
        - 대표적인 어플리케이션계층 프로토콜=http

---

=네트워크 시스템은 하나의 거대한 sw라고 할 수 있음, 이 거대한 구조를 설명하는 것

- 소켓: 컴퓨터 네트워크에서 프로세스 간 통신의 종착점(end point)을 의미. 그 단말은 데이터전송을 위한 인터페이스 역할을 함
    - 양방향통신을 위해 IP주소와 포트번호의 조합으로 식별됨.
    - 클라이언트-서버 모델에서 사용하며, 클라이언트는 서버의 IP주소와 포트번호를 사용해서 서버 소켓에 연결 요청 → 서버 소켓은 클라이언트 요청 수신하고, 이를 처리하기 위한 새로운 소켓을 생성
    - 대표적인 소켓 프로토콜: TCP, UDP
    
    ? 소켓과 패킷의 다른점은?
    
    - 소켓: 네트워크 통신할 수 있는 인터페이스, 소켓을 이용해 데이터 전송/수신 가능
    - 패킷: 소켓을 통해 전송되는 데이터를 전송하는 단위
    
    웹소켓: 실시간성으로 통신이 필요할때(ex 주식창), 양방향으로 요청과 응답이 이뤄짐, 한번 연결 맺은뒤 유지한다.
    
    *다른방법: server sent event: http통신을 종료하지 않고 유지

![Untitled](/week3/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/Untitled%201.png)